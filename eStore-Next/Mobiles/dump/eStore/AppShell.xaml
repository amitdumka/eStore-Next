<?xml version="1.0" encoding="UTF-8" ?>
<Shell
    x:Class="eStore.AppShell"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:accpages="clr-namespace:eStore.Pages.Accounting"
    xmlns:controls="clr-namespace:eStore.MAUILib.Views.Controls;assembly=eStore.MAUILib"
    xmlns:libpage="clr-namespace:eStore.MAUILib.Pages;assembly=eStore.MAUILib"
    xmlns:local="clr-namespace:eStore"
    xmlns:pages="clr-namespace:eStore.Pages"
    Title="eStore-NXT"
    FlyoutBackgroundImage="thearvindstore005.jpg"
    FlyoutBackgroundImageAspect="Fill"
    FlyoutHeaderBehavior="CollapseOnScroll"
    Shell.FlyoutBehavior="Flyout">
    <Shell.Resources>

        <Style x:Key="BaseStyle" TargetType="Element">
            <Setter Property="Shell.BackgroundColor" Value="{StaticResource Primary}" />
            <Setter Property="Shell.ForegroundColor" Value="White" />
            <Setter Property="Shell.TitleColor" Value="White" />
            <Setter Property="Shell.DisabledColor" Value="#B4FFFFFF" />
            <Setter Property="Shell.UnselectedColor" Value="#95FFFFFF" />
            <Setter Property="Shell.TabBarBackgroundColor" Value="{StaticResource Primary}" />
            <Setter Property="Shell.TabBarForegroundColor" Value="White" />
            <Setter Property="Shell.TabBarUnselectedColor" Value="#95FFFFFF" />
            <Setter Property="Shell.TabBarTitleColor" Value="White" />
        </Style>
        <Style Class="FlyoutItemLabelStyle" TargetType="Label">
            <Setter Property="TextColor" Value="White" />
            <Setter Property="FontAttributes" Value="Italic" />
            <Setter Property="FontSize" Value="Medium" />
        </Style>
        <Style BasedOn="{StaticResource BaseStyle}" TargetType="TabBar" />
        <Style BasedOn="{StaticResource BaseStyle}" TargetType="FlyoutItem" />
        <Style
            ApplyToDerivedTypes="True"
            Class="FlyoutItemLayoutStyle"
            TargetType="Layout">
            <Setter Property="VisualStateManager.VisualStateGroups">
                <VisualStateGroupList>
                    <VisualStateGroup x:Name="CommonStates">
                        <VisualState x:Name="Normal">
                            <VisualState.Setters>
                                <Setter Property="BackgroundColor" Value="{x:OnPlatform UWP=Transparent, iOS=White}" />
                                <Setter TargetName="FlyoutItemLabel" Property="Label.TextColor" Value="Yellow" />
                                <!--<Setter TargetName="FlayoutItemLabel" Property="Label" Value="24" />-->
                            </VisualState.Setters>
                        </VisualState>
                        <VisualState x:Name="Selected">
                            <VisualState.Setters>
                                <Setter Property="BackgroundColor" Value="{StaticResource Primary}" />
                            </VisualState.Setters>
                        </VisualState>
                    </VisualStateGroup>
                </VisualStateGroupList>
            </Setter>
        </Style>

        <Style
            ApplyToDerivedTypes="True"
            Class="MenuItemLayoutStyle"
            TargetType="Layout">
            <Setter Property="VisualStateManager.VisualStateGroups">
                <VisualStateGroupList>
                    <VisualStateGroup x:Name="CommonStates">
                        <VisualState x:Name="Normal">
                            <VisualState.Setters>
                                <Setter TargetName="FlyoutItemLabel" Property="Label.TextColor" Value="{StaticResource Accent_Yellow100}" />
                                <!--<Setter TargetName="FlayoutItemLabel" Property="Label.FontSize" Value="18" />-->
                            </VisualState.Setters>
                        </VisualState>
                    </VisualStateGroup>
                </VisualStateGroupList>
            </Setter>
        </Style>

    </Shell.Resources>
    <!--  Shell Header and Footer  -->
    <Shell.FlyoutHeader>
        <controls:ShellHeader />
    </Shell.FlyoutHeader>
    <Shell.FlyoutFooter>
        <controls:ShellFooter />
    </Shell.FlyoutFooter>

    <!--  Menu Items  -->
    <ShellContent
        Title="Main Page Test"
        ContentTemplate="{DataTemplate local:MainPage}"
        Icon="wind_icin.png"
        Route="Test" />
    <!--  Adding Menu Item here based on Role/Access  -->
    <!--  Menu Items End Here  -->

    <!--  Admin/Owner  -->
    <!--  Store Manager  -->
    <!--  Accountant  -->
    <ShellContent
        Title="Dashboard"
        ContentTemplate="{DataTemplate pages:DashboardPage}"
        FlyoutIcon="{StaticResource CircleIcon}"
        Route="Dashboard" />
     <FlyoutItem
        Title="Voucher"
        FlyoutIcon="rain_icon.png"
        Icon="rain_icon.png">
        <Tab Title="Voucher" Icon="rain_icon.png">
            <ShellContent
                Title="Voucher List"
                ContentTemplate="{DataTemplate accpages:VoucherPage}"
                Route="Voucher" />
        </Tab>
        <Tab Title="Voucher Entry" Icon="rain_icon.png">
            <ShellContent
                Title="Add"
                ContentTemplate="{DataTemplate accpages:Entry.VoucherEntryPage}"
                Route="Voucher.Entry" />
        </Tab>

        <Tab Title="Notes" Icon="rain_icon.png">
            <ShellContent
                Title="Note(s) List"
                ContentTemplate="{DataTemplate accpages:NotesPage}"
                Route="Notes" />
        </Tab>
        <Tab Title="Notes Entry" Icon="rain_icon.png">
            <ShellContent
                Title="Add"
                ContentTemplate="{DataTemplate accpages:Entry.NotesEntryPage}"
                Route="Note.Entry" />
        </Tab>

    </FlyoutItem>
    <FlyoutItem Title="Cash Voucher">
        <Tab Title="Stores" Icon="rain_icon.png">
            <ShellContent
                Title="Store"
                ContentTemplate="{DataTemplate accpages:CashVoucherPage}"
                Route="CashVoucher" />
        </Tab>
        <Tab Title="Voucher Entry" Icon="rain_icon.png">
            <ShellContent
                Title="Add"
                ContentTemplate="{DataTemplate accpages:Entry.CashVoucherEntryPage}"
                Route="CashVoucher.Entry" />
        </Tab>

    </FlyoutItem>
    <FlyoutItem Title="Banking">
        <Tab Title="Bank" Icon="rain_icon.png">
            <ShellContent
                Title="Store"
                ContentTemplate="{DataTemplate accpages:BankPage}"
                Route="Banks" />
        </Tab>
        <Tab Title="Bank Account" Icon="rain_icon.png">
            <ShellContent
                Title="Add"
                ContentTemplate="{DataTemplate accpages:BankAccountPage}"
                Route="Banks.Account" />
        </Tab>
        <Tab Title="Vendor Account" Icon="rain_icon.png">
            <ShellContent
                Title="Add"
                ContentTemplate="{DataTemplate accpages:VendorBankAccountPage}"
                Route="Banks.VendorAccounts" />
        </Tab>
        <Tab Title="Transcation" Icon="rain_icon.png">
            <ShellContent
                Title="Add"
                ContentTemplate="{DataTemplate accpages:BankTranscationPage}"
                Route="Bank.Transcation" />
        </Tab>

    </FlyoutItem>
    <FlyoutItem Title="Customer Dues">
        <Tab Title="Due" Icon="rain_icon.png">
            <ShellContent
                Title="Store"
                ContentTemplate="{DataTemplate accpages:CustomerDuesPage}"
                Route="CustomerDue" />
        </Tab>
        <Tab Title="Recovery" Icon="rain_icon.png">
            <ShellContent
                Title="Add"
                ContentTemplate="{DataTemplate accpages:DueRecoveryPage}"
                Route="CustomerRecovery" />
        </Tab>

    </FlyoutItem>
    <FlyoutItem Title="Cash Book">
        <Tab Title="Petty Cash" Icon="rain_icon.png">
            <ShellContent
                Title="Store"
                ContentTemplate="{DataTemplate accpages:PettyCashSheetPage}"
                Route="PettyCashBook" />
        </Tab>
        <Tab Title="Cash Detail" Icon="rain_icon.png">
            <ShellContent
                Title="Add"
                ContentTemplate="{DataTemplate accpages:CashDetailPage}"
                Route="PettyCashBook.CashDetails" />
        </Tab>

    </FlyoutItem> 

    <!--  CA  -->
    <!--  Employee  -->

    <!--  Common Menu Items  -->
    <ShellContent
        Title="About"
        ContentTemplate="{DataTemplate libpage:AboutUsPage}"
        Icon="wind_icin.png"
        Route="about" />
    <!--  When the Flyout is visible this will be a menu item you can tie a click behavior to  -->
    <MenuItem
        Clicked="MenuItem_Clicked"
        StyleClass="MenuItemLayoutStyle"
        Text="Logout" />
    <TabBar>
        <ShellContent ContentTemplate="{DataTemplate libpage:Auth.LoginPage}" Route="LoginPage" />
    </TabBar>
    <!--  Common Menu items End Here  -->

</Shell>
